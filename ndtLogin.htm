<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <link rel="SHORTCUT ICON" href="Icone_agent.ico"/>
	<title>Nixxis client login</title>
	<link rel="stylesheet" href="CrToolboxVisual.css" />
	<link rel="stylesheet" href="CrToolboxVisualWhite.css" />
	<link rel="stylesheet" href="CrLoginScreen.css" />
	<link rel="stylesheet" href="default.css" />
    <script type="text/javascript" language="javascript" src="CrToolbox/CrToolbox.js"></script>
    <script type="text/javascript" language="javascript" src="CrToolbox/CrToolboxControl.js"></script>
    <script type="text/javascript" language="javascript" src="CrToolbox/CrToolboxControlVisual.js"></script>
	<script type="text/javascript" language="javascript" src="js/supervisionLanguageResource.js"></script>
	<script type="text/javascript" language="javascript" src="js/supervisionConst.js"></script>
	<script type="text/javascript" language="javascript" src="tools.js"></script>
	<script type="text/javascript" language="javascript" src="JsCommon/NixxisCommonFn.js"></script>
	<script type="text/javascript" language="javascript" src="link.js"></script>
	<script type="text/javascript" language="javascript" src="toolbar.js"></script>
		
    <script type="text/javascript" language="javascript">
        var _BtnReset;
        var _BtnSubmit;
        var _BtnHelp;
        var ClientLink;
        function StartInit()
        {
            _BtnReset = new toolboxButton("ButtonReset", const_Btn_Reset, function() { resetForm(); });
            _BtnReset.txAbsolute = false; _BtnReset.txParent = $('divBtnReset');
            _BtnReset.txIcon = new toolboxImage("img\\btnIcon_Cancel.png", new toolboxSize(16, 16));
            _BtnReset.txIcon.txShow = true;
            _BtnReset.Show();

            _BtnSubmit = new toolboxButton("ButtonSubmit", const_Btn_Submit, function() { submitForm(); });
            _BtnSubmit.txAbsolute = false; _BtnSubmit.txParent = $('divBtnSubmit');
            _BtnSubmit.txIcon = new toolboxImage("img\\btnIcon_Ok.png", new toolboxSize(16, 16));
            _BtnSubmit.txIcon.txShow = true;
            _BtnSubmit.Show();
            
            _BtnHelp = new toolboxButton("ButtonHelp", const_Btn_Help, function() { ShowHelp(); });
            _BtnHelp.txAbsolute = false; _BtnHelp.txParent = $('divBtnHelp');
            _BtnHelp.txIcon = new toolboxImage("img\\btnIcon_Help.png", new toolboxSize(16, 16));
            _BtnHelp.txIcon.txShow = true;
            _BtnHelp.Show();            
            
            /*_BtnHelp = new toolboxButton("ButtonHelp", const_Btn_Help, function() { ShowHelp(); });
            _BtnHelp.txAbsolute = false; _BtnHelp.txParent = $('div1');
            _BtnHelp.txButtonType = txEnum.BtnType.PictureBtn;
            _BtnHelp.txImage         = new toolboxImage("img\\about.png", new toolboxSize(32, 32));
            _BtnHelp.txImageOver     = new toolboxImage("img\\about.png", new toolboxSize(32, 32));
            _BtnHelp.txImageFocus    = new toolboxImage("img\\about.png", new toolboxSize(32, 32));
            _BtnHelp.txImageDisabled = new toolboxImage("img\\about.png", new toolboxSize(32, 32));
            _BtnHelp.Show(); */            
            
            addElementClass($("LoginSubmit"),"Hide");
            
            ClientLink = new NixxisClientLink;
	        
	        
        }
        function ShowHelp()
        {
            var dashboardLocation = window.location.href.substring(0, window.location.href.lastIndexOf('/') + 1) + 'Doc/Supervision/Supervisor.htm#_Toc184192049';
            window.open(dashboardLocation, 'SupervisionHelp', 'left=0,top=0,height=400 ,width=800, toolbar=no, location=no,directories=yes,status=yes,menubar=yes,scrollbars=yes,copyhistory=no,resizable=yes');
        }
        function submitForm()
        {
            removeElementClass($("LoginSubmit"),"Hide");
            //document.forms["Login"].submit();
            ClientLink.login($("userAccount").value, $("password").value, $("extension").value);
            window.location= "http://tommobiel:8088/agent/ndtDesktop.htm";
        }
        function resetForm()
        {
            document.Login.reset();
        }
        function chkIdent_OnClick()
        {
            if($("chkIdent").checked)
            {
                $("userAccount").disabled = false; 
                $("password").disabled = false; 
                $("domain").disabled = false;
                
                removeElementClass($("lblUserAccount"),"DisabledLabel"); removeElementClass($("userAccount"),"DisabledInput");
                removeElementClass($("lblPassword"),"DisabledLabel"); removeElementClass($("password"),"DisabledInput");
                removeElementClass($("lblDomain"),"DisabledLabel"); removeElementClass($("domain"),"DisabledInput");
            } else
            {
                $("userAccount").disabled = true;
                $("password").disabled = true;
                $("domain").disabled = true;            
                
                addElementClass($("lblUserAccount"),"DisabledLabel"); addElementClass($("userAccount"),"DisabledInput");
                addElementClass($("lblPassword"),"DisabledLabel"); addElementClass($("password"),"DisabledInput");
                addElementClass($("lblDomain"),"DisabledLabel"); addElementClass($("domain"),"DisabledInput");
            }
        }
    </script>
</head>
<body onload = "javascript:StartInit()">
    <div id="LoginSubmit" class="LoginSubmit">
        <img src="img/spinner.gif" alt="Waiting to connect" />
    </div>
    <div class="LoginBackground">
        <table cellpadding="0" cellspacing="0" style="width: 100%; height: 100%;">
            <tr >
                <td style="width: 180px; vertical-align:top; background-image: url(img/LoginMain_Background.png);">
                    <img src="img/LoginMain.png" alt="Logo nixxis"/>            
                </td>
                <td style=" vertical-align:top">
                    <div class="LoginDivForm">
                        <form id="Login" name="Login" action="CrLoginScreen.htm" method="post" style="overflow:hidden; width:100%">
                                <label for="firstname"><script>document.writeln(const_LOGIN_T1);</script></label><br />
                                <br />
                                <br />
                                <label for="extension"><script>document.writeln(const_LOGIN_T2);</script></label><br /><input type="text" name="extension" id="extension" value="789" style="width:100%;" onkeypress="return submitEnter(this,event)"/><br />
                                <br />
                                <table class="LoginField">
                                    <tr>
                                        <td class="Login_Checkbox" colspan="3"><input type="checkbox" id="chkIdent" checked="true" onclick="javascript: chkIdent_OnClick()"/><label for="chkIdent"><script>document.writeln(const_LOGIN_T3);</script></label></td>
                                    </tr>
                                    <tr>
                                        <td class="Login_Label"><label class="LoginElLabel" id="lblUserAccount" for="userAccount"><script>document.writeln(const_LOGIN_T4);</script></label></td>
                                        <td class="Login_Input"><input class="LoginElInput" type="text" name="userAccount" id="userAccount" value="101" onkeypress="return submitEnter(this,event)"/></td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td class="Login_Label"><label class="LoginElLabel" id="lblPassword" for="password"><script>document.writeln(const_LOGIN_T5);</script></label></td>
                                        <td class="Login_Input"><input class="LoginElInput" type="text" name="password" id="password" value="" onkeypress="return submitEnter(this,event)"/></td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td class="Login_Label"><label class="LoginElLabel" id="lblDomain" for="domain"><script>document.writeln(const_LOGIN_T6);</script></label></td>
                                        <td class="Login_Input"><input class="LoginElInput" type="text" name="domain" id="domain" value="" onkeypress="return submitEnter(this,event)"/></td>
                                        <td></td>
                                    </tr>
                                
                                </table>
                                <br />
                                <input type="hidden" value="Client_Sup.html" name="startPage"  id="startPage"/>
								<input type="hidden" value="supervision" name="roles" id="roles"/>
                                <div id ="divBtnSubmit" class="LoginButtons"></div><div id ="divBtnReset" class="LoginButtons"></div><div id ="divBtnHelp" class="LoginButtons"></div><div id ="div1" class="LoginButtons"></div>
                        </form>
                    </div>             
                </td>    
            </tr>
        </table>
    </div>
</body>
</html>
