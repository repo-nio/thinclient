<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nixxis Client v3</title>
    <link rel="stylesheet" href="./v3/assets/css/style.css" />
    <!-- <script type="text/javascript" language="javascript" src="./v3/assets/js/jquery.min.js"></script>   -->
    <script src="./v3/assets/js/jquery.min.js"></script>
    <link rel="icon" type="image/png" href="./favicon.png" />
<!-- start ncs css -->
		<!-- <link href="default.css" rel="stylesheet" type="text/css" /> -->
		<!-- <link href="CrToolboxVisual.css" rel="stylesheet" type="text/css" />
		<link href="jsTools/jscalendar-1.0/calendar-blue.css" rel="stylesheet" type="text/css" media="all" title="win2k-cold-1" />
	 -->

<!-- start ncs js -->
		<!-- <script type="text/javascript" src="jsTools/jscalendar-1.0/calendar.js"></script>
		<script type="text/javascript" src="jsTools/jscalendar-1.0/lang/calendar-fr.js"></script>      
		<script type="text/javascript" language="javascript" src="jsAgent/AgentLanguageResource.js"></script> -->
		<!-- <script type="text/javascript" language="javascript" src="jsAgent/agentConst.js"></script> -->
    <!-- <script type="text/javascript" language="javascript" src="tools.js"></script>
    <script type="text/javascript" language="javascript" src="JsCommon/NixxisCommonFn.js"></script>
    <script type="text/javascript" language="javascript" src="link.js"></script>
    <script type="text/javascript" language="javascript" src="toolbar.js"></script>		 -->
    <!-- <script type="text/javascript" language="javascript" src="CrToolbox/CrToolbox.js"></script>
    <script type="text/javascript" language="javascript" src="CrToolbox/CrToolboxControl.js"></script>
    <script type="text/javascript" language="javascript" src="CrToolbox/CrToolboxControlVisual.js"></script> -->
        <!-- <script type="text/javascript" language="javascript" src="jsTools/dbgWindow.js"></script> -->
		<!-- <script type="text/javascript" language="javascript" src="jsCommon/NixxisCommonObj.js"></script>
		<script type="text/javascript" language="javascript" src="jsAgent/agentPanels.js"></script>
		<script type="text/javascript" language="javascript" src="jsAgent/agentWindowCfg.js"></script> -->
		<script type="text/javascript" language="javascript">
		

    var ClientLink;

		function initInstance(){
<!IS_BROWSER Firefox>
	        try { document.domain = document.domain.substring(document.domain.lastIndexOf('.', document.domain.lastIndexOf('.') - 1) + 1); }
			catch(e) {;}
			//alert("CrAgent.htm: " + document.domain);
<!IS_BROWSER>			
	        //document.domain = "nixxisdemo.com";
			
			window.document.title = "Nixxis agent desktop version " + const_AgentVersionDisplay;
		
			OnToolboxResize.Add(this, pageResize);
			crLoadingScreen.crLoadingMsg = CrResource.Common.LoadingMsg;
			crLoadingScreen.Init();
			crLoadingScreen.Visible(true);
			
            if (const_Debug) dbgStartWindow();
            
            DebugLog("NixxisLink...");
            ClientLink = new NixxisClientLink;
			//debugger;
            // ClientLink.linkToolStrip($("AgentToolStrip"));
            // ClientLink.linkToolStrip($("VoiceToolStrip"));
			//ClientLink.linkToolStrip($("ChatToolStrip"));
			//ClientLink.linkToolStrip($("MailToolStrip"));
			
			// setToolStripLanguage($('AgentToolStrip'));
      //       setToolStripLanguage($('VoiceToolStrip'));
			//setToolStripLanguage($('MailToolStrip'));
			//setToolStripLanguage($('ChatToolStrip'));
			
			// setToolStripConfiguration($('AgentToolStrip'));
      //       setToolStripConfiguration($('VoiceToolStrip'));
			//setToolStripConfiguration($('MailToolStrip'));
			//setToolStripConfiguration($('ChatToolStrip'));
			
			DebugLog("Init window...");
            Init_Window();
			pageResize();
            if (const_DebugToolbar) SetDebug(true);
            window.setTimeout("ClientConnect();", 3000, "javascript");
			document.body.nextSibling;
	    }
	    function exitInstance()
	    {

            try
            {
				//if (confirm("Do you really want to close this window"))
				//{
	    			ClientLink.disconnect();
	                DisposeClient();
					ClientLink.dispose();
	            	ClientLink = null;
					//return true; 
				//}
   				//location.href = document.URL;;
  				//http://tommobiel:8088/agent/crloginscreendummy.htmreturn true;
				
				
            }
            catch(e)
            {
                ;
            }
	    }

		/*function HandleOnClose(evt) 
		{
			var y = (window.Event) ? evt.pageY : evt.clientY;
			if (y < 0) 
			{
				alert('Thank You for chatting with iHosty');
				//document.location.href='chatlogout.php?user=<?php echo $_SESSION['user'];?>';
				return "Test";
			}
		}

		if (window.Event) 
		{
			window.onbeforeunload = function(event) 
			{
				return HandleOnClose(event); // pass argument event block
			}
		} else 
		{
			window.onbeforeunload = function() 
			{
				return HandleOnClose(event); // pass IE's global event block
			}
		}*/
		function onBeforeUnloadAction()
		{
			return "Do you want to logout?";
		}
		 
		window.onbeforeunload = function(e)
		{
			//alert("this will be closed");
		 	var ev=(e)? e: window.event;
		 	if((ev.clientX<0) || (ev.clientY<0))
			{
		    	return onBeforeUnloadAction();
			}
		}
		 </script>
		 		
</head>
<body onload="javascript: initInstance();" onunload="javascript: exitInstance();">

    <div id="app">
      <div class="content">
        <object data="./embed.html" type="text/html"></object>
      </div>
      <div class="footer">
        <!-- Buttons -->
        <div  id="AgentToolStrip"  class="NixxisToolStrip column grid-buttons">
          <!-- Quit -->
          <button class="btn-1">
            <div class="icon">
              <img
                src="./assets/icons/Agent_AddressBookEntryType_Agent_Off_25.png"
                alt="icon"
              />
            </div>
            <span>Quit</span>
          </button>

          <!-- Ready -->
          <button class="btn-1 NixxisButton" id="WaitForCall" data-switch="ready"  onclick="javascript:NixxisContactLink.commands.WaitForCall();" > 
            <div class="icon">
              <img src="./assets/icons/Agent_Command_Ready_50.png" alt="icon" />
            </div>
            <span>Ready</span>
          </button>

          <!-- Break -->
          <button class="btn-1" data-target="#break" data-switch="break">
            <div class="icon">
              <img src="./assets/icons/Agent_Command_Pause_50.png" alt="icon" />
            </div>
            <span>Break</span>
          </button>

          <!-- Priority picker -->
          <button class="btn-1" disabled>
            <div class="icon">
              <img
                src="./assets/icons/Agent_AddressBookEntryType_Queue_25.png"
                alt="icon"
              />
            </div>
            <span>Priority picker</span>
          </button>

          <!-- Search mode -->
          <button class="btn-1" data-target="#search-mode">
            <div class="icon">
              <img
                src="./assets/icons/Agent_Command_StartSearchMode_50.png"
                alt="icon"
              />
            </div>
            <span>Search mode</span>
          </button>

          <!-- Pickup -->
          <button class="btn-1">
            <div class="icon">
              <img
                src="./assets/icons/Agent_Command_ContactPickup_50.png"
                alt="icon"
              />
            </div>
            <span>Pickup</span>
          </button>

          <!-- Manual dial -->
          <button class="btn-1" data-target="#dial-pad">
            <div class="icon">
              <img
                src="./assets/icons/Agent_Command_Voice_NewCall_50.png"
                alt="icon"
              />
            </div>
            <span>Manual dial</span>
          </button>

          <!-- Team -->
          <button class="btn-1" data-target="#team">
            <div class="icon">
              <img
                src="./assets/icons/Agent_Command_SelectTeam_50.png"
                alt="icon"
              />
            </div>
            <span>Team</span>
          </button>

          <!-- Send alert -->
          <button class="btn-1">
            <div class="icon">
              <img
                src="./assets/icons/Agent_Command_SendAlert_50.png"
                alt="icon"
              />
            </div>
            <span>Send alert</span>
          </button>

          <!-- Mini mode -->
          <button class="btn-1" data-mode="1">
            <div class="icon">
              <img src="./assets/icons/Agent_MiniMode_50.png" alt="icon" />
            </div>
            <span>Mini mode</span>
          </button>
        </div>

        <!-- Buttons -->
        <div id="VoiceToolStrip" class="NixxisToolStrip column when-ready grid-buttons">
          <!-- Disposition -->
          <button class="btn-1" data-target="#disposition">
            <div class="icon">
              <img
                src="./assets/icons/Agent_Command_SetQualification_50.png"
                alt="icon"
              />
            </div>
            <span>Disposition</span>
          </button>

          <!-- Contact history -->
          <button class="btn-1">
            <div class="icon">
              <img
                src="./assets/icons/Agent_Command_ShowContatHistory_50.png"
                alt="icon"
              />
            </div>
            <span>Contact history</span>
          </button>

          <!-- Extend -->
          <button class="btn-1">
            <div class="icon">
              <img
                src="./assets/icons/Agent_Command_ExtendTime_50.png"
                alt="icon"
              />
            </div>
            <span>Extend</span>
          </button>

          <!-- Close -->
          <button class="btn-1">
            <div class="icon">
              <img
                src="./assets/icons/Agent_Command_CloseScript_50.png"
                alt="icon"
              />
            </div>
            <span>Close</span>
          </button>

          <!-- Hold -->
          <button class="btn-1">
            <div class="icon">
              <img
                src="./assets/icons/Agent_Command_Voice_Forward_50.png"
                alt="icon"
              />
            </div>
            <span>Hold</span>
          </button>

          <!-- Retrieve -->
          <button class="btn-1">
            <div class="icon">
              <img
                src="./assets/icons/Agent_Command_Voice_Retrieve_50.png"
                alt="icon"
              />
            </div>
            <span>Retrieve</span>
          </button>

          <!-- Hangup -->
          <button class="btn-1">
            <div class="icon">
              <img
                src="./assets/icons/Agent_Command_Voice_Hangup_50.png"
                alt="icon"
              />
            </div>
            <span>Hangup</span>
          </button>

          <!-- Record -->
          <button class="btn-1">
            <div class="icon">
              <img
                src="./assets/icons/Agent_Command_Voice_Record_50.png"
                alt="icon"
              />
            </div>
            <span>Record</span>
          </button>
        </div>

        <!-- Status -->
        <div class="column when-ready">
          <div class="status">
            <div>
              <img
                src="./assets/icons/Agent_MediaType_Outbound_25.png"
                alt="icon"
              />
            </div>
            <div>
              <ul>
                <li class="row">
                  <strong>Search lab</strong>
                  <span>00:00:06</span>
                </li>
                <li class="row">
                  <span>From:</span>
                  <span></span>
                </li>
                <li class="row">
                  <span>To:</span>
                  <span></span>
                </li>
                <li class="row">
                  <span>State:</span>
                  <span>Preview</span>
                </li>
                <li class="row">
                  <span>Customer:</span>
                  <span>Preview</span>
                </li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Info -->
        <div class="column">
          <div class="view">
            <ul>
              <li class="row">
                <span class="label">Wating contacts:</span>
                <span class="value">0</span>
              </li>
              <li class="row">
                <span class="label">Priority contacts:</span>
                <span class="value">0 - 0</span>
              </li>
              <li class="row">
                <span class="label">State:</span>
                <span class="value" id="state">Break</span>
              </li>
              <li class="row">
                <span class="label">Duration:</span>
                <span class="value">00:00:04</span>
              </li>
              <li class="row">
                <span>Formateur Nixxis (10008)</span>

                <div class="d-flex">
                  <button class="btn-2">
                    <img
                      src="./assets/icons/Agent_ReadyVoiceIndication_25.png"
                      alt="icon"
                    />
                  </button>
                  <button class="btn-2">
                    <img
                      src="./assets/icons/Agent_ReadyChatIndication_25.png"
                      alt="icon"
                    />
                  </button>
                  <button class="btn-2">
                    <img
                      src="./assets/icons/Agent_ReadyMailIndication_25.png"
                      alt="icon"
                    />
                  </button>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Break -->
    <div class="modal" id="break">
      <div class="modal-header">
        <h4>Break</h4>
      </div>
      <div class="modal-content"></div>
      <div class="modal-footer">
        <button data-close>Close</button>
      </div>
    </div>

    <!-- Search mode -->
    <div class="modal" id="search-mode">
      <div class="modal-header">
        <h4>Search mode</h4>
      </div>
      <div class="modal-content"></div>
      <div class="modal-footer">
        <button data-close>Close</button>
      </div>
    </div>

    <!-- Disposition -->
    <div class="modal" id="disposition">
      <div class="modal-header">
        <h4>Disposition</h4>
      </div>
      <div class="modal-content"></div>
      <div class="modal-footer">
        <button data-close>Close</button>
      </div>
    </div>

    <!-- Team -->
    <div class="modal" id="team">
      <div class="modal-header">
        <h4>Team</h4>
      </div>
      <div class="modal-content"></div>
      <div class="modal-footer">
        <button data-close>Close</button>
      </div>
    </div>

    <!-- Dial pad -->
    <div class="modal" id="dial-pad">
      <div class="modal-header">
        <h4>Dial pad</h4>
      </div>
      <div class="modal-content dial">
        <div class="d-flex">
          <input id="dial" type="tel" />
          <button id="dial-clear">
            <img
              src="./assets/icons/Agent_AddressBookEntryType_Agent_Off_25.png"
              alt="icon"
            />
          </button>
          <button>
            <img
              src="./assets/icons/Agent_Command_ReadyVoice_50.png"
              alt="icon"
            />
          </button>
        </div>
        <div class="buttons">
          <button class="btn-3">1</button>
          <button class="btn-3">2</button>
          <button class="btn-3">3</button>
          <button class="btn-3">4</button>
          <button class="btn-3">5</button>
          <button class="btn-3">6</button>
          <button class="btn-3">7</button>
          <button class="btn-3">8</button>
          <button class="btn-3">9</button>
          <button class="btn-3">*</button>
          <button class="btn-3">0</button>
          <button class="btn-3">#</button>
        </div>
      </div>
      <div class="modal-footer">
        <button data-close>Close</button>
      </div>
    </div>

 <div class="backdrop"></div> 
	   <!-- <script type="text/javascript" language="javascript" src="./assets/js/jquery.min.js"></script> -->


<!-- <script type="text/javascript" src="./assets/js/script.js"></script> -->
		<!-- <script type="text/javascript" src="jsTools/jscalendar-1.0/calendar.js"></script> -->
		<!-- <script type="text/javascript" src="jsTools/jscalendar-1.0/lang/calendar-fr.js"></script>       -->
		<!-- <script type="text/javascript" language="javascript" src="jsAgent/AgentLanguageResource.js"></script> -->
	    <!-- <script type="text/javascript" language="javascript" src="tools.js"></script> -->
	    <!-- <script type="text/javascript" language="javascript" src="JsCommon/NixxisCommonFn.js"></script> -->
	    <!-- <script type="text/javascript" language="javascript" src="link.js"></script> -->
   <!-- <script type="text/javascript" language="javascript" src="CrToolbox/CrToolbox.js"></script>  -->

      <!-- <script type="text/javascript" language="javascript" src="CrToolbox/CrToolboxControl.js"></script>  -->
       <!-- <script type="text/javascript" language="javascript" src="CrToolbox/CrToolboxControlVisual.js"></script>  -->
	   
	    <!-- <script type="text/javascript" language="javascript" src="toolbar.js"></script> -->
		<!-- <script type="text/javascript" language="javascript" src="jsCommon/NixxisCommonObj.js"></script> -->
		<!-- <script type="text/javascript" language="javascript" src="jsAgent/agentPanels.js"></script> -->
	   
	   
	   
	   
  </body>
</html>
